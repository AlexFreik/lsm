<!doctype html>
<html lang="en" data-theme="night">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vMix Master</title>
    <link rel="icon" type="image/png" href="./logo.svg" />
    <link rel="stylesheet" href="./output.css" />
    <script src="./Sortable.min.js" defer></script>
    <script src="./tools.js" defer></script>
    <script src="./box.js" defer></script>
    <script src="./vmix-info.js" defer></script>
    <script src="./vmix-web.js" defer></script>
    <script src="./script.js" defer></script>
  </head>
  <body class="bg-base-100 text-base-content">
    <div class="flex flex-col items-center">
      <div class="flex w-full flex-wrap p-1" id="boxes"></div>
    </div>

    <div class="flex flex-col items-center">
      <div class="flex w-full flex-wrap p-2">
        <div class="flex min-w-full items-center justify-center py-5">
          <button id="add-box" class="btn btn-outline btn-secondary flex">Add Instance</button>
          <button id="refresh-all" class="btn btn-outline btn-secondary mx-3 flex">Refresh All</button>
          <label class="input input-bordered input-secondary flex items-center gap-2">
            Refresh Rate (sec)
            <input id="refresh-rate" class="url-param w-12" name="refreshRate" type="number" min="1" value="5" placeholder="sec" />
          </label>
        </div>
      </div>
    </div>

    <div class="navbar bg-base-100">
      <div class="flex-1">
        <a class="btn btn-ghost text-xl" href="/lsm/">vMix Master</a>
      </div>
      <div class="flex-none">
        <ul class="menu menu-horizontal px-1">
          <li><a href="/lsm/vmix-master/duration-timer.txt">Duration Timer</a></li>
          <li><a href="/lsm/gallery/">Gallery</a></li>
          <li><a href="/lsm/yad/">YAD</a></li>
          <li><a href="https://github.com/AlexFreik/lsm/" target="_blank">GitHub</a></li>
        </ul>
      </div>
    </div>

    <div class="collapse bg-base-200">
      <input id="customCommands" class="url-param" type="checkbox" />
      <div class="collapse-title text-xl font-medium">Custom Commands</div>
      <div id="custom-commands-container" class="collapse-content">
        <div class="mx-auto mt-10 max-w-3xl px-5">
          <div class="my-1 flex items-center gap-1">
            <span class="text-md">Include: </span>
            <input id="include" type="text" name="include" placeholder="e.g. 1 2 3" class="url-param input input-xs input-bordered flex-1" />
          </div>
        </div>

        <div class="flex flex-col items-center">
          <div class="flex w-fit flex-wrap p-1">
            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input
                  id="rawRequest"
                  type="text"
                  name="rawRequest"
                  placeholder="e.g. Function=Fade&Duration=1000&Input=5"
                  class="url-param input input-xs input-bordered w-[500px]" />
              </div>
              <div class="mx-auto w-fit">
                <button id="execute-btn" class="btn btn-outline btn-secondary btn-sm mt-1">Raw Request</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input
                  id="volume1"
                  type="number"
                  placeholder="0-100"
                  class="url-param volume-param input input-xs input-bordered w-16"
                  value="100"
                  min="0"
                  max="100" />
                <input id="ms1" type="text" placeholder="ms" class="url-param ms-param input input-xs input-bordered w-14" value="3000" />
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-12" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">SetVolumeFade</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input
                  id="volume2"
                  type="number"
                  placeholder="0-100"
                  class="url-param volume-param input input-xs input-bordered w-16"
                  value="100"
                  min="0"
                  max="100" />
                <input id="ms2" type="text" placeholder="ms" class="url-param ms-param input input-xs input-bordered w-14" value="3000" />
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-12" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">SetVolumeFade</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">&nbsp;</div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">StartExternal</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">&nbsp;</div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">StopExternal</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">&nbsp;</div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">FadeToBlack</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-14" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">Fade</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-14" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">Stinger1</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-14" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">AudioOn</button>
              </div>
            </div>

            <div class="m-1 w-fit rounded-box bg-neutral p-3">
              <div class="mx-auto w-fit">
                <input type="text" placeholder="Input" class="input-param input input-xs input-bordered w-14" />
              </div>
              <div class="mx-auto w-fit">
                <button class="function-btn btn btn-outline btn-secondary btn-sm mt-1">AudioOff</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="collapse mt-3 bg-base-200 pb-5">
      <input id="vmixWeb" class="url-param" type="checkbox" />
      <div class="collapse-title text-xl font-medium">vMix Web</div>
      <div class="collapse-content">
        <div class="mx-auto my-10 flex w-[500px] items-center gap-1 px-5">
          <span class="text-md">Master: </span>
          <input id="master" type="number" min="1" name="master" placeholder="e.g. 1" class="url-param input input-xs input-bordered w-16" />
          <span class="text-md ms-3">Slaves: </span>
          <input id="slaves" type="text" name="slaves" placeholder="e.g. 2 3" class="url-param input input-xs input-bordered flex-1" />
        </div>

        <div id="vmixContainer">
          <div class="wrap mx-auto mt-5 grid h-[200px] w-[620px] grid-cols-[250px_120px_250px] grid-rows-5 gap-1 text-center">
            <div id="preview-title" class="col-span-1 row-span-4 bg-yellow-600 text-lg font-semibold"></div>
            <div class="col-span-1 row-span-1">
              <button class="btn btn-neutral btn-sm w-24" onclick="transition('Stinger1')">Stinger 1</button>
            </div>
            <div id="preview-title" class="col-span-1 row-span-4 bg-green-700 text-lg font-semibold"></div>
            <div class="col-span-1 row-span-1">
              <button class="btn btn-neutral btn-sm w-24" onclick="transition('Fade')">Fade</button>
            </div>
            <div class="col-span-1 row-span-1">
              <button class="btn btn-neutral btn-sm w-24" onclick="transition('Cut')">Cut</button>
            </div>
            <div class="col-span-1 row-span-1">
              <button class="${info.fadeToBlack ? 'btn-error' : 'btn-neutral'} btn btn-sm w-24" onclick="transition('FadeToBlack')">FTB</button>
            </div>
            <div id="preview-video-progress" class="col-span-1 row-span-1"></div>
            <div class="col-span-1 row-span-1"></div>
            <div id="active-video-progress" class="col-span-1 row-span-1"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="collapse collapse-arrow fixed bottom-1 right-1 w-[700px] bg-base-300 opacity-90">
      <input type="checkbox" checked />
      <div class="collapse-title text-xl font-medium">Logs</div>
      <div class="collapse-content px-0">
        <div id="logs" class="mx-auto h-[250px] w-[685px] overflow-y-scroll"></div>
      </div>

      <label class="badge swap badge-neutral absolute bottom-3 right-9 rounded py-3 opacity-95">
        <!-- this hidden checkbox controls the state -->
        <input id="view" type="checkbox" class="url-param" />

        <svg class="swap-on h-5 w-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
          <path
            d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z" />
        </svg>

        <svg class="swap-off h-5 w-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path
            d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z" />
        </svg>
      </label>
    </div>

    <div class="prose mx-auto max-w-3xl px-5">
      <h2>Documentation</h2>
      You can read official vMix API documentation here:
      <a target="_blank" href="https://www.vmix.com/help25/index.htm?DeveloperAPI.html">vmix.com/help25/index.htm?DeveloperAPI.html</a>

      <h3>How to Use</h3>
      You won't be able to access the vMix API over HTTPS, so you'll need to download the source code from GitHub. You can either clone the repository
      if you have Git installed, or click <b>Code</b> → <b>Download ZIP</b>. You then have two options:
      <ul>
        <li>You can host LSM locally if you have Node installed. You can follow the instructions in the <code>README.md</code> file on GitHub.</li>
        <li>
          Or you can open this page as a local file. Go to the <code>lsm/vmix-master/</code> folder and open the <code>index.html</code> file in the
          Chrome browser.
        </li>
      </ul>
    </div>

    <footer class="footer footer-center mt-10 bg-base-300 p-4 text-base-content">
      <aside>
        <p>Copyright © 2024 - All right reserved by LSM</p>
      </aside>
    </footer>
  </body>
</html>
